<!-- 无障碍支持：屏幕阅读器状态通知区域 -->
<view aria-live="polite" aria-atomic="true" class="sr-only">
  <block wx:if="{{loading}}">正在重新生成祝福语，请稍候...</block>
  <block wx:elif="{{error}}">错误：{{error}}</block>
  <block wx:elif="{{copySuccess}}">祝福语已成功复制到剪贴板</block>
</view>

<!-- 主内容区域 -->
<view class="container">
  <!-- 顶部导航栏 -->
  <view class="nav-bar">
    <navigator class="nav-back" open-type="navigateBack">
      <text class="back-icon">←</text>
      <text class="back-text">返回</text>
    </navigator>
    <text class="nav-title">🎉 祝福语详情</text>
    <view class="nav-placeholder"></view>
  </view>

  <!-- 祝福语内容卡片 -->
  <view class="content-card card-secondary">
    <!-- 祝福语内容 -->
    <view class="blessing-content" bindlongpress="onLongPressCard">
      {{blessing}}
    </view>

    <!-- 操作按钮区域 -->
    <view class="action-buttons">
      <button class="action-btn" bindtap="onVoicePlay">
        <text decode="{{true}}">🔊 播放</text>
      </button>
      <button class="action-btn" bindtap="onCopy">
        <text decode="{{true}}">📋 复制</text>
      </button>
      <button class="action-btn" bindtap="onRegenerate">
        <text decode="{{true}}">🔄 重新生成</text>
      </button>
    </view>

    <!-- 复制成功提示 -->
    <view wx:if="{{copySuccess}}" class="copy-success {{copyFading ? 'fade-out' : ''}}">
      ✅ 已复制到剪贴板！
    </view>
  </view>

  <!-- 长按菜单 -->
  <view wx:if="{{showLongPressMenu}}" class="long-press-overlay" bindtap="hideLongPressMenu">
    <view class="long-press-menu" catchtap="">
      <view class="menu-item" bindtap="onCopy">
        <text>📋 复制祝福语</text>
      </view>
      <view class="menu-item" bindtap="onSaveImage">
        <text>💾 保存为图片</text>
      </view>
    </view>
  </view>

  <!-- 信封飞出动画 -->
  <view wx:if="{{showEnvelope}}" class="envelope-fly">
    <text>✉️</text>
  </view>
</view>